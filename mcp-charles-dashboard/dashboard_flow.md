# Dashboard Flow Diagram

This diagram illustrates the flow of data and user interactions within the mcp-charles-dashboard component.

```mermaid
graph TD
    %% Main data flow
    SharedFiles[/"mcp-charles-shared/output"/ Files] -->|Read parsed JSON| Dashboard[Dashboard App]
    User([User]) -->|Select file| Dashboard
    User -->|Interact with| Dashboard
    
    %% Dashboard components
    subgraph "Streamlit Dashboard"
        Dashboard -->|Load data| DataProcessor[Data Processor]
        DataProcessor -->|Process and transform| DataFrames[DataFrames]
        
        DataFrames -->|Feed into| Charts[Interactive Charts]
        DataFrames -->|Display as| Tables[Data Tables]
        DataFrames -->|Generate| Stats[Statistics]
        
        User -->|Filter data| DataFrames
        User -->|Select rows| Tables
        User -->|Change visualization| Charts
    end
    
    %% Components relationship
    subgraph "Dashboard Files"
        DashboardPy[dashboard.py] -->|Main app| AppLogic[App Logic]
        RunScripts[run_dashboard scripts] -->|Launch| DashboardPy
    end
    
    %% Environment setup
    EnvVar[Environment Variables] -->|Configure paths| DashboardPy
    
    %% Styling
    classDef files fill:#ffcc99,stroke:#333,stroke-width:1px;
    classDef dashboard fill:#99ccff,stroke:#333,stroke-width:2px;
    classDef user fill:#c2f0c2,stroke:#333,stroke-width:1px;
    classDef data fill:#ffb3ff,stroke:#333,stroke-width:1px;
    
    class SharedFiles,DashboardPy,RunScripts files;
    class Dashboard,Charts,Tables,Stats dashboard;
    class User user;
    class DataProcessor,DataFrames data;
```

## Component Details

### Data Sources
- **Shared Output Directory**: Contains the parsed JSON files generated by the mcp-charles component
- **JSON Files**: Contain structured data from Charles logs in raw, summary, or detailed format

### Dashboard Core Components
- **dashboard.py**: Main Streamlit application file
- **run_dashboard.sh/.bat**: Launch scripts that set environment variables and start the application

### Data Processing Flow
1. **File Selection**: User selects a JSON file from the shared directory
2. **Data Loading**: JSON data is loaded and transformed into Pandas DataFrames
3. **Visualization**: Data is displayed in various charts and tables

### User Interactions
- **Filtering**: Users can filter data by various criteria
- **Selection**: Users can select specific entries for detailed examination
- **Visualization Controls**: Users can customize chart types and visualization parameters

### Templates and Static Files
- **templates/dashboard.html**: HTML template (placeholder for potential HTML-based dashboard)
- **static/css/dashboard.css**: CSS styles (placeholder)
- **static/js/dashboard.js**: JavaScript functionality (placeholder)

## Execution Flow

1. User runs the dashboard using the run_dashboard script
2. Environment variables are set (MCP_CHARLES_OUTPUT_DIR)
3. Streamlit launches the dashboard.py application
4. Application scans the shared directory for JSON files
5. User selects a file to analyze
6. Dashboard processes and visualizes the data
7. User interacts with the data through filtering and selection controls 